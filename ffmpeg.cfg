//使用hlae内嵌的ffmpeg录制
//详情见Purp1e的博客  https://purple-csgo.github.io/hlae/hlaeffmpeg.html
//定义预设
mirv_streams settings add ffmpeg SuperfastCrf20 "-c:v libx264 -preset superfast -crf 20 {QUOTE}{AFX_STREAM_PATH}\video.mp4{QUOTE}"
mirv_streams settings add ffmpeg SuperfastCrf18 "-c:v libx264 -preset superfast -crf 18 {QUOTE}{AFX_STREAM_PATH}\video.mp4{QUOTE}"
mirv_streams settings add ffmpeg UltrafastCrf16 "-c:v libx264 -preset ultrafast -crf 16 {QUOTE}{AFX_STREAM_PATH}\video.mp4{QUOTE}"

//预设为raw myworld mydepth mymatte四个通道设置改变录制参数的快捷指令
//请根据你使用的通道情况修改，不用的可以删去(不删也不影响)，添加时参照""里的格式
//EDW的CFG中还用到了这些通道（方便复制）nostickers myWorld myDepthWorld mydepth afxwh
alias afxFfmpeg "mirv_streams edit raw  settings afxFfmpeg;mirv_streams edit myWorld settings afxFfmpeg;mirv_streams edit mydepth  settings afxFfmpeg;mirv_streams edit mymatte settings afxFfmpeg;echo Setting changed"
alias SuperfastCrf20 "mirv_streams edit raw  settings SuperSuperfastCrf20;mirv_streams edit myWorld settings SuperfastCrf20;mirv_streams edit mydepth  settings SuperfastCrf20;mirv_streams edit mymatte settings SuperfastCrf20;echo Setting changed"
alias SuperfastCrf18 "mirv_streams edit raw  settings SuperfastCrf18;mirv_streams edit myWorld settings SuperfastCrf18;mirv_streams edit mydepth  settings SuperfastCrf18;mirv_streams edit mymatte settings SuperfastCrf18;echo Setting changed"
alias UltrafastCrf16 "mirv_streams edit raw  settings UltrafastCrf16;mirv_streams edit myWorld settings UltrafastCrf16;mirv_streams edit mydepth  settings UltrafastCrf16;mirv_streams edit mymatte settings UltrafastCrf16;echo Setting changed"

//控制台输出提示
echo "──────────────────────────────────────────────"
echo "请根据该CFG的注释给出的链接安装FFMPEG"
echo "输入以下指令之一切换通道的录制设置(提示Error不影响)"
echo "制作: Purp1e    | 以300FPS为例"
echo "afxFfmpeg      | 1min录制5s 得到 145MB/min 的视频"
echo "SuperfastCrf20 | 1min录制8s 得到 350MB/min 的视频"
echo "SuperfastCrf18 | 1min录制8s 得到   1GB/min 的视频"
echo "UltrafastCrf16 | 1min录制9s 得到 2.6GB/min 的视频"
echo "──────────────────────────────────────────────"
